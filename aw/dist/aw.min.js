/*! aw 2016-02-01 */
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";var d=a("./components/quiz"),e={domSelector:".js-quiz_output",questions:[{question:"Vilket av kodspråk jobbar konsumentteamet för tillfället INTE med?",alternatives:["Javascript","PHP","C-sharp"]},{question:"Vad kallas det när man bygger koden?",alternatives:["Komprimera","Kompilera","Kontrastera"]}]},f=new d(e);f.start();var g="babel";console.log("Testar "+g)},{"./components/quiz":3}],2:[function(a,b,c){"use strict";const d={};d.get=function(a,b,c,d,e){var f;void 0===d&&(d="POST"),f=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),f.onreadystatechange=function(){if(f.readyState===XMLHttpRequest.DONE){var a=f.status;a>=200&&300>a||304===a?b&&b(f.responseText):c&&c()}},f.open(d,a,!0),f.setRequestHeader("Content-type","application/json; charset=utf-8"),f.withCredentials=!0,f.send(e)},b.exports=d},{}],3:[function(a,b,c){var d,e=a("./ajax"),f=function(a){this.config=a,this.outputElement=document.querySelector(a.domSelector)};f.prototype.inform=function(a){this.outputElement.innerHTML=a},f.prototype.start=function(){d=0,this.savedData={Contestant:"",Answers:[]},this.outputElement.innerHTML="",this.createInfoBoard(),this.nextQuestion()},f.prototype.createInfoBoard=function(){this.infoBoard=document.createElement("div"),this.infoBoard.setAttribute("id","infoBoard"),this.outputElement.parentNode.insertBefore(this.infoBoard,this.outputElement)},f.prototype.nextQuestion=function(){d++;var a=this.config.questions[d-1];this.outputElement.innerHTML="",this.outputElement.innerHTML+="<h2>Fråga "+d+".</h2>",this.outputElement.innerHTML+=a.question,a.alternatives.forEach(function(a,b,c){this.outputElement.innerHTML+='<div class="alternative"><input type="radio" name="altradio" id="alt_'+(b+1)+'" class="radio" value="'+a+'"/><label for="alt_'+(b+1)+'">'+a+"</label></div>"}.bind(this)),this.outputElement.appendChild(h());var b;if(d<this.config.questions.length)b=g("Visa fråga nr "+(d+1),function(){this.validate()&&(this.savedData.Answers.push(document.querySelector('input[type="radio"][name="altradio"]:checked').value),this.infoBoard.innerHTML="Du har nu svarat på "+d+"st frågor",this.nextQuestion())}.bind(this));else{var c=document.createElement("input");c.setAttribute("type","text"),c.setAttribute("id","quiz_contestant"),c.setAttribute("value",""),c.setAttribute("placeholder","Ditt namn?"),this.outputElement.appendChild(c),b=g("KLAR",function(){this.validate(!0)&&(this.savedData.Answers.push(document.querySelector('input[type="radio"][name="altradio"]:checked').value),this.savedData.Contestant=document.querySelector("#quiz_contestant").value,this.sendQuiz(),this.outputElement.innerHTML="")}.bind(this))}this.outputElement.appendChild(b)},f.prototype.validate=function(a){var b=a?!0:!1,c="Du måste markera ett av svaren!",d=document.querySelectorAll('[id^="alt_"]'),e=Array.from(d).some(function(a,b,c){return a.checked});if(b){var f=document.querySelector("#quiz_contestant");f.value.length<1&&(c="Vänligen fyll i ditt namn!",e=!1)}return e||(this.infoBoard.innerHTML=c),e},f.prototype.sendQuiz=function(){e.get("/api/result",function(a){var b=JSON.parse(a);this.infoBoard.innerHTML=b.ServerResponse},function(){this.infoBoard.innerHTML="Något gick tyvärr fel! Dina svar är INTE skickade."},"POST",JSON.stringify(this.savedData))};var g=function(a,b){var c=document.createElement("a");return c.appendChild(document.createTextNode(a)),c.setAttribute("href",""),c.setAttribute("class","quiz_btn"),c.onclick=function(){event.preventDefault(),b()},c},h=function(a){var b=document.createElement("div");return b.setAttribute("class","spacer"),b};b.exports=function(a){return new f(a)}},{"./ajax":2}]},{},[1]);